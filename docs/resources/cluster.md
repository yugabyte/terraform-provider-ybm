---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "ybm_cluster Resource - ybm"
subcategory: ""
description: |-
  The resource to create a YugabyteDB cluster. This resource can be used to create both
          single and multi-region clusters. The resource can also be used to bind allow lists to the cluster
          being created and restore previously taken backups to the cluster being created. The resource can
          also be used to modify the backup schedule of the cluster being created.
---

# ybm_cluster (Resource)

The resource to create a YugabyteDB cluster. This resource can be used to create both 
		single and multi-region clusters. The resource can also be used to bind allow lists to the cluster 
		being created and restore previously taken backups to the cluster being created. The resource can 
		also be used to modify the backup schedule of the cluster being created.

## Example Usage

```terraform
# Single Region Cluster
resource "ybm_cluster" "single_region_cluster" {
  account_id = "example-account-id"
  cluster_name = "single-region-cluster"
  cloud_type = "GCP"
  cluster_type = "SYNCHRONOUS"
  cluster_region_info = [
    {
      region = "us-west2"
      num_nodes = 1
      vpc_id = "example-vpc-id"
    }
  ]
  cluster_tier = "PAID"
  cluster_allow_list_ids = ["example-allow-list-id-1","example-allow-list-id-2"] # Optional
  fault_tolerance = "NONE"
  node_config = {
    num_cores = 2
    memory_mb = 8192
    disk_size_gb = 10
  }
  backup_schedule={
    state= "ACTIVE"
    retention_period_in_days = 10
    time_interval_in_days = 10
  }
  credentials = {
    ysql_username = "ysql_user"
    ysql_password = "Password1"
    ycql_username = "ycql_user"
    ycql_password = "Password1"
  }
 
}

# Multi Region Cluster
resource "ybm_cluster" "multi_region_cluster" {
  account_id = "example-account-id"
  cluster_name = "multi-region-cluster"
  cloud_type = "GCP"
  cluster_type = "SYNCHRONOUS"
  cluster_region_info = [
    {
      region = "us-west2"
      num_nodes = 1
      vpc_id = "example-vpc-id"
    },
    {
      region = "asia-east1"
      num_nodes = 1
      vpc_id = "example-vpc-id"
    },
    {
      region = "europe-central2"
      num_nodes = 1
      vpc_id = "example-vpc-id"
    }
  ]
  cluster_tier = "PAID"
  cluster_allow_list_ids = ["example-allow-list-id-1","example-allow-list-id-2"] # Optional
  restore_backup_id = "example-backup-id" #Optional
  node_config = {
    fault_tolerance = "REGION"
    num_cores = 2
    memory_mb = 8192
    disk_size_gb = 10
  }
  backup_schedule = {
    state= "ACTIVE"
    retention_period_in_days = 10
    time_interval_in_days = 10
  } 
  credentials = {
    ysql_username = "ysql_user"
    ysql_password = "Password1"
    ycql_username = "ycql_user"
    ycql_password = "Password1"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `account_id` (String) The ID of the account this cluster belongs to.
- `cluster_name` (String) The name of the cluster.
- `cluster_region_info` (Attributes List) (see [below for nested schema](#nestedatt--cluster_region_info))
- `cluster_tier` (String) FREE or PAID.
- `cluster_type` (String) The type of the cluster.
- `credentials` (Attributes) (see [below for nested schema](#nestedatt--credentials))
- `node_config` (Attributes) (see [below for nested schema](#nestedatt--node_config))

### Optional

- `backup_schedule` (Attributes) (see [below for nested schema](#nestedatt--backup_schedule))
- `cloud_type` (String) Which cloud the cluster is deployed in: AWS or GCP. Default GCP.
- `cluster_allow_list_ids` (List of String) The list of IDs of allow lists associated with the cluster.
- `cluster_id` (String) The id of the cluster. Filled automatically on creating a cluster. Use to get a specific cluster.
- `fault_tolerance` (String) The fault tolerance of the cluster.
- `restore_backup_id` (String) The backup ID to be restored to the cluster.

### Read-Only

- `cluster_info` (Attributes) (see [below for nested schema](#nestedatt--cluster_info))
- `cluster_version` (String)
- `project_id` (String) The ID of the project this cluster belongs to.

<a id="nestedatt--cluster_region_info"></a>
### Nested Schema for `cluster_region_info`

Required:

- `num_nodes` (Number)
- `region` (String)

Optional:

- `vpc_id` (String)


<a id="nestedatt--credentials"></a>
### Nested Schema for `credentials`

Required:

- `ycql_password` (String, Sensitive)
- `ycql_username` (String)
- `ysql_password` (String, Sensitive)
- `ysql_username` (String)


<a id="nestedatt--node_config"></a>
### Nested Schema for `node_config`

Optional:

- `disk_size_gb` (Number)
- `memory_mb` (Number)
- `num_cores` (Number)


<a id="nestedatt--backup_schedule"></a>
### Nested Schema for `backup_schedule`

Optional:

- `backup_description` (String) The description of the backup schedule.
- `cron_expression` (String) The cron expression for  backup schedule
- `retention_period_in_days` (Number) The retention period of the backup schedule.
- `schedule_id` (String) The id of the backup schedule. Filled automatically on creating a backup schedule. Used to get a specific backup schedule.
- `state` (String) The state for  backup schedule. It is use to pause or resume the backup schedule. It can have value ACTIVE or PAUSED only.
- `time_interval_in_days` (Number) The time interval in days for backup schedule.


<a id="nestedatt--cluster_info"></a>
### Nested Schema for `cluster_info`

Read-Only:

- `created_time` (String)
- `software_version` (String)
- `state` (String)
- `updated_time` (String)


