---
page_title: "ybm_api_key Resource - YugabyteDB Aeon"
description: |-
  The resource to issue an API Key in YugabyteDB Aeon.
---

# ybm_api_key (Resource)

The resource to issue an API Key in YugabyteDB Aeon.


## Example Usage

To issue an API Key with predefined built-in roles like Admin, Developer, Viewer

```terraform
resource "ybm_api_key" "example_api_key" {
  name        = "example-api-key-name"
  description = "example API Key description" #Optional
  duration    = 10
  unit        = "Hours"
  role_name   = "Developer"
}
```

To issue an API Key with custom user defined roles

```terraform
resource "ybm_api_key" "example_custom_role_api_key" {
  name        = "example-api-key-name"
  description = "example API Key description" #Optional
  duration    = 1
  unit        = "Months"
  role_name   = "example-custom-role-name"
}
```

To issue an API key with allow lists associated for IP based restrictions on the key

```terraform
resource "ybm_allow_list" "external_network_range" {
  allow_list_name        = "external-range"
  allow_list_description = "allow a range of external IP addresses"
  cidr_list              = ["192.168.1.0/24"]
}
resource "ybm_allow_list" "external_single_ip" {
  allow_list_name        = "external-single"
  allow_list_description = "allow a single external IP address"
  cidr_list              = ["203.0.113.1/32"]
}

resource "ybm_api_key" "developer_api_key" {
  name           = "developer-key"
  description    = "IP restricted API key for developer access"
  duration       = 1
  unit           = "Hours"
  role_name      = "Developer"
  allow_list_ids = [ybm_allow_list.external_network_range.allow_list_id, ybm_allow_list.external_single_ip.allow_list_id]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `duration` (Number) The duration for which the API Key will be valid. 0 denotes that the key will never expire.
- `name` (String) The name of the API Key.
- `role_name` (String) The role of the API Key.
- `unit` (String) The time units for which the API Key will be valid. Available options are Hours, Days, and Months.

### Optional

- `allow_list_ids` (Set of String) List of IDs of the allow lists assigned to the API Key.
- `api_key_id` (String) The ID of the API Key. Created automatically when an API Key is created. Use this ID to get a specific API Key.
- `description` (String) The description of the API Key.

### Read-Only

- `account_id` (String) The ID of the account this user belongs to.
- `api_key` (String, Sensitive) The API Key.
- `date_created` (String) The creation time of the API Key.
- `expiration` (String) The expiry time of the API Key.
- `issuer` (String) The issuer of the API Key.
- `last_used` (String) The last used time of the API Key.
- `project_id` (String) The ID of the project this user belongs to.
- `status` (String) The status of the API Key.
